## 정리

## 영속성 컨텍스트

- 정적인 매핑(RDB와 OOP)

- 영속성 컨텍스트

- 눈에 보이는 개념이 아니야.

- EntityManager를 생성하면 그 안에 PersisteneContext가 있는 것

- 나중에 spring이랑 합치면 됨

## 영속성 컨텍스트의 이점

- 1차 캐시(고객 별로 다른 캐시라서 성능상 이점보다는 개념상 이점)

- 동일성

- 트랜잭션 지원하는 쓰기 지연

- 변경 감지

- 지연 로딩(Lazy Loading)

## FLUSH

- 그냥 오토로 쓰자

- 직접 할 수 있다.

- 영속성 컨텍스트를 지우는게 아니다.

- 컨텍스트의 변경 내용을 데이터베이스에 동기화 하는것

- 트랜잭션 작업 단위별로 영속성이 관리되기 때문에, 동기화 이슈 걱정 적음

## 준영속 상태로 만드는 방법 3가지

- em.detach(`entity`)

- em.close()

- em.clear()
